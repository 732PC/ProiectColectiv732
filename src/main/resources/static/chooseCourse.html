<!DOCTYPE html>
<html lang="en">
<head>
    <title>Select Courses</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/htmx.org/dist/htmx.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/hyperscript.org/dist/_hyperscript.js"></script>

    <script>
        function getCurrentUser() {
            // Get the value from the email1 input field
            return document.getElementById("email1").value;
        }
    </script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="centered header">
    <p class="title" style="font-weight: bold"><span class="orange-text">UBB</span><span class="black-text">oard</span>
    </p>
</div>
<div class="spacer"></div>
<div class="centered content">
    <p class="title">Select Courses</p>

    <input type="email" id="email1" name="email1" required placeholder="Current E-mail" style="width: 85%">

    <form id="courseForm">
        <div class="table-wrapper">
            <table id="courseTable">
                <tr>
                    <th>Select</th>
                    <th>Course Name</th>
                    <th>Optional</th>
                    <th>Teacher</th>
                    <th>Day of Week</th>
                    <th>Time</th>
                </tr>
            </table>
        </div>

        <button type="button" hx-get="/courses/course?type=allOptionals" hx-target="#courseTable"
                hx-vals="js:{email: getCurrentUser()}" hx-swap="innerHTML">Load Courses
        </button>

        <button type="button" hx-post="/courses/course" hx-trigger="click" hx-target="#courseForm"
                hx-vals="js:{email: getCurrentUser()}" hx-include="#courseForm" hx-swap="none">Save Courses
        </button>

    </form>
</div>
</body>
</html>
