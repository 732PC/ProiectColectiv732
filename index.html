<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Allocation</title>
    <script src="https://unpkg.com/htmx.org@1.6.1/dist/htmx.js"></script>
<!--    <script>-->
<!--        // Fetch and populate study years-->
<!--        function fetchStudyYears() {-->
<!--            var yearSelect = document.getElementById("yearSelect");-->
<!--            var getYearsEndpoint = "/getStudyYears";-->

<!--            htmx.ajax(getYearsEndpoint, 'get', {-->
<!--                target: yearSelect,-->
<!--                headers: {'Accept': 'application/json'},-->
<!--                evalScripts: true,-->
<!--                onComplete: function(xhr) {-->
<!--                    console.log("Request completed. Status:", xhr.status);-->

<!--                    try {-->
<!--                        // Parse the JSON response-->
<!--                        var yearData = JSON.parse(xhr.responseText);-->

<!--                        // Log the received data-->
<!--                        console.log("Year data:", yearData);-->
<!--                    } catch (error) {-->
<!--                        console.error("Error parsing JSON:", error);-->
<!--                    }-->
<!--                }-->
<!--            });-->
<!--        }-->

<!--        // Fetch study years when the page loads-->
<!--        window.onload = fetchStudyYears;-->
<!--    </script>-->
    <style>
        body {
            background-color: #3d5a80;
            color: white;
            margin: 0;
            font-family: "Arial", sans-serif;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 3% 0 0;
        }

        .logo-container {
            display: flex;
            align-items: center;
            margin-left: 8%;
        }

        .ubb {
            color: #ee6c4d;
            font-size: 2.4vw;
            margin-right: 0.5%;
        }

        .oard {
            color: #293241;
            font-size: 2.4vw;
        }

        .button-container-menu {
            text-align: right;
            margin-right: 12%;
            width: 60%;
        }

        .button {
            background-color: #3d5a80;
            color: white;
            border: none;
            padding: 1% 2%;
            margin: 0.5%;
            cursor: pointer;
            border-radius: 5px;
        }

        .overlay {
            background-color: #d9d9d9;
            margin-left: 10%;
            margin-right: 10%;
            margin-top: 5%;
            padding: 2%;
            box-sizing: content-box;
        }

        .text {
            color: #293241;
            margin-top: 3%;
            text-align: left;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo-container">
            <span class="ubb">UBB</span>
            <span class="oard">oard</span>
        </div>
        <div class="button-container-menu">
            <button class="button">Membrii</button>
            <button class="button">Cursuri</button>
            <button class="button">Contul meu</button>
        </div>
    </div>
    <div class="overlay">
        <h1 class="text" >Course Allocation</h1>
        <!-- Select Year of Study -->
        <label class="text" for="yearSelect">Select Year of Study:</label>
        <select id="yearSelect" hx-trigger="change" hx-get="http://localhost:8080/getStudyYears" hx-target="#yearSelect">
        </select>

        <!-- Button to Allocate Courses -->
        <button hx-post="http://localhost:8080/course-allocation/assign-courses-for-study-year" hx-trigger="click" hx-target="#allocatedCourses">Allocate Courses</button>

        <!-- Display Allocated Courses -->
        <div id="allocatedCourses">
            <!-- The allocated courses will be displayed here -->
        </div>
    </div>
</body>
</html>
